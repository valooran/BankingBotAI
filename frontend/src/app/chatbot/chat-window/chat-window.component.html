<!-- Toggle button -->
<div class="fixed bottom-4 right-4 z-50">
  <button
    (click)="toggleChat()"
    class="bg-blue-600 text-white p-3 rounded-full shadow-lg"
    aria-label="Chat"
  >
    ğŸ’¬
  </button>
</div>

<!-- Chat Window -->
<div
  *ngIf="isOpen"
  class="fixed bottom-20 right-4 z-50 bg-white border rounded-lg shadow-lg w-80 max-h-[32rem] flex flex-col"
>
  <div class="bg-blue-600 text-white px-4 py-2 font-bold rounded-t-lg">
    ğŸ§  Banking Assistant
  </div>

  <div class="flex-1 overflow-y-auto p-3">
    <div *ngFor="let msg of messages" class="mb-2">
      <div class="font-semibold">{{ msg.sender }}</div>
      <div>{{ msg.text }}</div>
    </div>
  </div>

  <div class="flex items-center p-2 border-t">
    <input
      [(ngModel)]="userInput"
      (keydown.enter)="sendMessage()"
      class="flex-1 border rounded p-1 mr-2"
      placeholder="Ask me something..."
    />
    <button (click)="sendMessage()" class="bg-blue-600 text-white px-3 py-1 rounded">
      Send
    </button>
  </div>
  <div class="flex justify-between items-center mt-2 px-2">
    <small class="text-gray-500">Chat is private to your session</small>
    <button class="text-blue-500 hover:underline text-sm" (click)="clearMessages()">
      Clear Chat
    </button>
  </div>
</div>